# Nano Post Machine

Nano Post Machine - это простая цифровая машина, эмулирующая функциональность машины Пост-Тьюринга с использованием Arduino Nano. Она отличается компактностью и простотой использования, что позволяет использовать ее в образовательных целях и для решения небольших задач автоматизации. Машина управляется с помощью набора кнопок и оснащена ЖК-дисплеем 20x4 для отображения текущего состояния машины.

Машина работает на ленте фиксированной длины с настраиваемыми значениями ячеек ("боксов"), что позволяет вводить данные и манипулировать ими. Она выполняет набор предопределенных инструкций, каждая из которых представлена одним символом, и поддерживает такие базовые операции, как чтение и запись на ленту, перемещение головки влево или вправо, условное ветвление. Программа может быть загружена в память машины, а ее выполнение может контролироваться вручную или автоматически.

Машина имеет открытый исходный код, что позволяет пользователям настраивать и расширять ее функциональность в соответствии со своими потребностями. Nano Post Machine представляет собой простую, но мощную платформу для изучения принципов работы вычислительных машин и экспериментирования с базовыми задачами автоматизации.

## Инструкции

Все адреса переходов являются адресами кода программы, начиная с 0 в качестве первой инструкции. Программа может содержать до 256 инструкций.

| Инструкция | 2 операнда | Описание |
| :-- | :-- | :-- |
| `1` | адрес перехода, не используется | Маркировка ящика, на который указывает головка, если он пуст |
| `0` | адрес перехода, не используется | Стирание маркировки ящика, на который указывает головка, если он маркирован |
| `>` | адрес перехода, не используется | Перемещение головки к ящику справа от неё |
| `<` | адрес перехода, не используется | Перемещение головки к ящику слева от неё |
| `?` | Адреса перехода: переход по первому адресу перехода, если ячейка ("ящик") отмечена, в противном случае переход по второму адресу перехода | Определение того, является ли ящик, на который указывает головка, маркированным или нет |
| `.` | не используется, не используется | Прекратить действие программы |

### Пример

```cpp
const Instruction program[] = {
  {'?', 1, 3}, // "?2,4"
  {'1', 2, 0}, // "1"
  {'>', 0, 0}, // ">1"
  {'.', 0, 0}  // "."
};
```

## Текущие функции

- непрограммируемая (программа жёстко закодирована)
- запуск жёстко закодированной программы
- приостановка выполнения
- изменение данных на ленте перед выполнением программы и во время паузы
- возможность обнуления ленты
- сохранение/загрузка ленты в оперативную память микроконтроллера
- возврат в исходное положение головки при нажатии кнопки "Стоп"
- простое звуковое сопровождение в качестве обратной связи

## Планируемые функции

- программируемость (может быть будет задействована цифровая клавиатура) with синтаксисом, подобным как у [Константина Полякова](https://kpolyakov.spb.ru/prog/post.htm)
- показ листинга программы с вертикальной прокруткой
- пошаговое выполнение
- использование нажатия нескольких кнопок для вызова меню
- ленточная прокрутка (преодоление ограничения ширины столбцов дисплея) с полосой прокрутки на месте: стрелками для каждой стороны показывается, есть ли еще лента
- улучшенный пользовательский интерфейс
- документация

## Источники
- https://en.wikipedia.org/wiki/Post–Turing_machine: Использован параграф "1936: Post model" для написания [описания для инструкций](#инструкции)
